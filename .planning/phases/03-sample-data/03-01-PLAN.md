---
phase: 03-sample-data
type: execute
---

<objective>
System-Uebungsfirmen und Transaktions-Pool fuer Vorbefuellung erstellen.

Purpose: Pool von Beispiel-Partnern und Transaktionen fuer realistische Kontodaten
Output: Seed-Dateien mit 10 System-Uebungsfirmen und ~50 Beispiel-Transaktionen
</objective>

<context>
@.planning/BRIEF.md
@.planning/ROADMAP.md
@config/Seeds/ (falls vorhanden)
@src/Model/Table/UsersTable.php
@src/Model/Table/TransactionsTable.php
</context>

<tasks>

<task type="auto">
  <name>Task 1: System-Uebungsfirmen Seed erstellen</name>
  <files>config/Seeds/SystemAccountsSeeder.php</files>
  <action>
  CakePHP Seed-Datei mit 10 fiktiven Uebungsfirmen:

  # Fiktive Partner fuer Ueberweisungen (nicht einloggbar)
  $systemFirms = [
      ['name' => 'Buerobedarf Mustermann GmbH', 'iban' => 'AT89370400440532013000'],
      ['name' => 'Druckerei Gutenberg OG', 'iban' => 'AT611904300234573201'],
      ['name' => 'IT-Service Fischer KEG', 'iban' => 'AT483200000012345864'],
      ['name' => 'Reinigung Sauber & Co', 'iban' => 'AT022050303101023600'],
      ['name' => 'Catering Lecker GmbH', 'iban' => 'AT931200052366398412'],
      ['name' => 'Versicherung Sicher AG', 'iban' => 'AT141200000012345678'],
      ['name' => 'Werbung Kreativ OG', 'iban' => 'AT551200000098765432'],
      ['name' => 'Moebel Modern GmbH', 'iban' => 'AT571938300012340000'],
      ['name' => 'Elektro Blitz KEG', 'iban' => 'AT681200000056781234'],
      ['name' => 'Transport Schnell GmbH', 'iban' => 'AT321200000011112222'],
  ];

  Diese werden als Users mit role='system' oder active=0 gespeichert,
  sodass sie nicht im normalen Admin-Bereich erscheinen.
  </action>
  <verify>Seed-Datei existiert mit 10 Eintraegen</verify>
  <done>SystemAccountsSeeder.php mit 10 fiktiven Firmen</done>
</task>

<task type="auto">
  <name>Task 2: Transaktions-Pool erstellen</name>
  <files>config/Seeds/TransactionPoolSeeder.php</files>
  <action>
  Pool mit ~50 realistischen Transaktions-Templates:

  $transactionPool = [
      # Ausgaben
      ['type' => 'out', 'min' => 50, 'max' => 200, 'text' => 'Bueromaterial Bestellung'],
      ['type' => 'out', 'min' => 100, 'max' => 500, 'text' => 'Rechnung Nr. %d/%d'],
      ['type' => 'out', 'min' => 200, 'max' => 1000, 'text' => 'Warenlieferung'],
      ['type' => 'out', 'min' => 50, 'max' => 150, 'text' => 'Reinigungsservice'],
      ['type' => 'out', 'min' => 100, 'max' => 300, 'text' => 'Catering Veranstaltung'],
      # ... weitere ~20 Ausgaben-Templates

      # Einnahmen
      ['type' => 'in', 'min' => 500, 'max' => 2000, 'text' => 'Zahlung Kunde'],
      ['type' => 'in', 'min' => 200, 'max' => 800, 'text' => 'Honorar Beratung'],
      ['type' => 'in', 'min' => 100, 'max' => 500, 'text' => 'Erstattung'],
      # ... weitere ~15 Einnahmen-Templates
  ];

  WICHTIG: Mischung 60% Ausgaben / 40% Einnahmen
  Betraege werden zufaellig im min/max-Bereich gewaehlt
  </action>
  <verify>Seed-Datei existiert mit ~50 Templates</verify>
  <done>TransactionPoolSeeder.php mit diversen Transaktions-Templates</done>
</task>

<task type="auto">
  <name>Task 3: Seed-Dateien in config/Seeds anlegen</name>
  <files>config/Seeds/</files>
  <action>
  Falls config/Seeds/ nicht existiert, erstellen.

  Dateien muessen CakePHP Seed-Konvention folgen:
  - Klasse erbt von AbstractSeed oder ist PHP-Array
  - Methode run() zum Ausfuehren

  Alternativ als einfache PHP-Arrays (include-bar):
  config/Seeds/system_accounts.php
  config/Seeds/transaction_pool.php

  Diese werden spaeter von _prefillAccountWithSampleData() geladen.
  </action>
  <verify>Seed-Ordner und Dateien existieren</verify>
  <done>Seed-Struktur vorhanden</done>
</task>

</tasks>

<verification>
Before declaring phase complete:
- [ ] config/Seeds/ existiert
- [ ] System-Uebungsfirmen definiert (10 Stueck)
- [ ] Transaktions-Pool definiert (~50 Templates)
- [ ] Dateien haben korrektes PHP-Format
</verification>

<success_criteria>
- Pool-Daten sind definiert und ladbar
- Realistische Firmennamen und Verwendungszwecke
- Betraege in sinnvollen Bereichen
</success_criteria>

<output>
Nach Abschluss: `.planning/phases/03-sample-data/03-01-SUMMARY.md` erstellen
</output>
